/**
 * Load the navigation tree javascript.
 *
 * @module     format_netcourse/navblock
 * @package    core
 * @copyright  2015 John Okely <john@moodle.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["jquery","theme_bootstrapbase/bootstrap","core/tree","core/log"],function($,e,n,i){i.debug("format_netcourse/navblock AMD");var o=null,r=null,t=function(e){var n=null;r.length&&(n=r.find('[aria-expanded="true"]'),e.siblings('[role="group"]').collapse("show"),n.each(function(){var n=$(this);n.is(e)||(n.attr("aria-expanded","false"),n.siblings('[role="group"]').attr("aria-hidden","true"),n.siblings('[role="group"]').collapse("hide"))}))};return{init:function(e){i.debug("format_netcourse/navblock init - instanceid: "+e);var a=new n('[data-instanceid="'+e+'"] .block_tree');a.finishExpandingGroup=function(e){t(e)},a.collapseGroup=function(e){e.siblings('[role="group"]').collapse("hide")},o=$("#instcnav"),o.length&&(r=o.find(".block_tree"))}}});