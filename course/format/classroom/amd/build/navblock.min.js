/**
 * Load the navigation tree javascript.
 *
 * @module     format_classroom/navblock
 * @package    core
 * @copyright  2015 John Okely <john@moodle.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["jquery","theme_bootstrapbase/bootstrap","core/tree","core/log"],function($,n,e,o){o.debug("format_classroom/navblock AMD");var i=null,a=null,r=function(n){var e=null;a.length&&(e=a.find('[aria-expanded="true"]'),n.siblings('[role="group"]').collapse("show"),e.each(function(){var e=$(this);e.is(n)||(e.attr("aria-expanded","false"),e.siblings('[role="group"]').attr("aria-hidden","true"),e.siblings('[role="group"]').collapse("hide"))}))};return{init:function(n){o.debug("format_classroom/navblock init - instanceid: "+n);var l=new e('[data-instanceid="'+n+'"] .block_tree');l.finishExpandingGroup=function(n){r(n)},l.collapseGroup=function(n){n.siblings('[role="group"]').collapse("hide")},i=$("#instcnav"),i.length&&(a=i.find(".block_tree"))}}});