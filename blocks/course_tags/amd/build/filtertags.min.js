define(["jquery","core/log","theme_bootstrapbase/bootstrap"],function($,e){"use strict";e.debug("AMD block_course_tags/filtertags loaded");var n=null,a=null,i=null,t=function(){var e=a.find(".inplaceeditable");i.is(":checked")?e.each(function(){var e=$(this);1===e.data("value")?e.parent("li").removeClass("hidden"):e.parent("li").addClass("hidden")}):e.each(function(){$(this).parent("li").removeClass("hidden")}),d()},l=function(e){e.preventDefault()},o=function(e){var n=null,l="",o=null,c=null;e.preventDefault(),n=$(e.currentTarget),l=n.val().toLowerCase(),o=a.find(".unlist"),c=o.find("li"),c.each(function(){var e=$(this);-1!==e.data("tagname").toLowerCase().indexOf(l)?e.removeClass("hidden"):e.addClass("hidden")}),i.is(":checked")&&a.find(".inplaceeditable").each(function(){var e=$(this);1===e.data("value")&&e.parent("li").removeClass("hidden")}),""!==l?d():i.is(":checked")?t():a.find(".accordion-body").collapse("hide")},d=function(){a.find(".accordion-body").each(function(){var e=$(this);e.has("li:not(.hidden)").length?e.collapse("show"):e.collapse("hide")})};return{init:function(){e.debug("AMD block_course_tags/filtertags init"),n=$("#tag-filter-form"),a=$("#taggroup-accordion"),i=$("#showalsoselected-checkbox"),n.on("submit",l),n.on("keyup","#tag-filter",o),i.on("change",t),t()}}});