define(["jquery","core/log","theme_bootstrapbase/bootstrap"],function($,e){"use strict";e.debug("AMD block_course_tags/filtertags loaded");var n=null,a=null,i=null,t=null,l=function(){var e=i.find(".inplaceeditable");t.is(":checked")?e.each(function(){var e=$(this);1===e.data("value")?e.parent("li").removeClass("hidden"):e.parent("li").addClass("hidden")}):e.each(function(){$(this).parent("li").removeClass("hidden")}),c()},o=function(e){e.preventDefault()},d=function(){var e=null,n="",o=null,d=null;e=a,n=e.val().toLowerCase(),o=i.find(".unlist"),d=o.find("li"),d.each(function(){var e=$(this);-1!==e.data("tagname").toLowerCase().indexOf(n)?e.removeClass("hidden"):e.addClass("hidden")}),t.is(":checked")&&i.find(".inplaceeditable").each(function(){var e=$(this);1===e.data("value")&&e.parent("li").removeClass("hidden")}),""!==n?c():t.is(":checked")?l():i.find(".accordion-body").collapse("hide")},c=function(){i.find(".accordion-body").each(function(){var e=$(this);e.has("li:not(.hidden)").length?e.collapse("show"):e.collapse("hide")})};return{init:function(){e.debug("AMD block_course_tags/filtertags init"),n=$("#tag-filter-form"),a=$("#tag-filter"),i=$("#taggroup-accordion"),t=$("#showalsoselected-checkbox"),n.on("submit",o),n.on("keyup","#tag-filter",d),t.on("change",d),l()}}});